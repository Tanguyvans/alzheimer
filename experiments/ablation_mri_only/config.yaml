# Ablation Study: MRI Only (ViT)
# Uses the same combined_v2 dataset as multimodal_fusion for fair comparison

experiment:
  name: "ablation_mri_only"
  task: "cn_ad_trajectory"
  dataset: "multi_cohort_v2"
  description: "ViT MRI-only baseline for ablation study"

model:
  architecture: "vit_base"
  num_classes: 2
  in_channels: 1
  image_size: 128
  dropout: 0.1
  classifier_dropout: 0.5
  drop_path_rate: 0.1
  use_pretrained: true
  pretrained_path: "../mri_vit_ad/pretrained/vit_mae75_pretrained.pth"

data:
  # Use same data as multimodal experiment
  data_dir: "../multimodal_fusion/data/combined_v2"
  results_dir: "results"

preprocessing:
  use_paper_preprocessing: true
  target_spacing: 1.75

training:
  epochs: 50
  batch_size: 4
  learning_rate: 0.00002
  weight_decay: 0.01
  lr_min: 0.0000001
  optimizer: "adamw"
  scheduler: "cosine"
  warmup_epochs: 5
  layer_wise_lr_decay: 0.75
  gradient_clip: 1.0
  use_weighted_loss: true
  label_smoothing: 0.1
  seed: 42

  # Test-time augmentation
  use_tta: true
  tta_augmentations: 8

augmentation:
  enabled: true
  random_flip: true
  random_rotate: 15
  random_scale: [0.9, 1.1]
  random_intensity: 0.1

hardware:
  device: "cuda"
  num_workers: 4
  pin_memory: true

callbacks:
  early_stopping:
    enabled: true
    patience: 15
    monitor: "val_accuracy"
  checkpoint:
    save_best: true
